<p style="color: green"><%= notice %></p>

<div class="d-flex justify-content-end mb-3">
  <%= link_to "Nova Categoria", new_administrate_categoria_path, class: "btn btn-new" %>
  <%= link_to "Fazer Logoff", destroy_admin_session_path, data: { turbo_method: :delete }, class: "btn btn-danger ms-2" %>
</div>

<h1 class="text-center">Categorias</h1>

<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-success">
      <tr>
        <th>#</th>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <% @categorias.each_with_index do |categoria, index| %>
        <tr>
          <td><%= index + 1 %></td>
          <td><%= categoria.nome %></td>
          <td><%= categoria.descricao %></td>
          <td>
            <div class="d-flex justify-content-start align-items-center">
              <%= link_to [:administrate, categoria], title: "Visualizar", alt: "eye", class: "me-2" do %>
                <%= image_tag 'icons/gray/eye.svg' %>
              <% end %>

              <%= link_to edit_administrate_categoria_path(categoria), title: "Editar", class: "me-2" do %>
                <%= image_tag 'icons/gray/edit.svg' %>
              <% end %>

              <%= button_to [:administrate, categoria], 
                            data: { turbo: false }, 
                            method: :delete, 
                            title: "Apagar", 
                            alt: "close", 
                            style: "border: none; background: transparent; padding: 0;" do %>
                <%= image_tag 'icons/gray/close.svg' %>
              <% end %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div style="display: flex; justify-content: center; margin-top: 20px;">
  <%= paginate @categorias %>
</div>
